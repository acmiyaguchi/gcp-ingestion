#!/usr/bin/env python3

import sys
import json

try:
    from jwcrypto import jwk
except ImportError as exc:
    print(f"{exc.__class__.__name__}: run `pip install jwcrypto` and try again")
    sys.exit(1)

key = jwk.JWK.generate(kty="EC")

print(
    json.dumps(
        {
            "private_key": json.loads(key.export_private()),
            "public_key": json.loads(key.export_public()),
        }
    )
)
